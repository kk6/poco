{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block content %}
  <h1>Hello {{ user.screen_name }}!</h1>
  <div class="box">
    <form action="" method="get">
      <span>Srot by:</span>
      <div class="sorts">
        <input type="radio" name="sort_by" id="likes" value="likes"{% if params.sort_by == 'likes' %} checked{% endif %} />
        <label for="likes" class="switch-likes">Likes</label>
        <input type="radio" name="sort_by" id="retweets" value="retweets"{% if params.sort_by == 'retweets' %} checked{% endif %}>
        <label for="retweets" class="switch-retweets">RTs</label>
      </div>
      <div class="term">
        <label>From: <input type="date" name="since" value="{{ params.since }}" /></label>
        <label>To: <input type="date" name="until" value="{{ params.until }}" /></label>
      </div>
      <div class="filter-media">
        <label class="checkbox">Media tweets only
          <input class="checkbox" type="checkbox" name="media_only" id="media_only"{% if params.media_only %} checked="checked"{% endif %} />
        </label>
      </div>
      <input type="hidden" name="user_id" value="{{ user.id }}" />
      <input type="hidden" name="screen_name" value="{{ user.screen_name }}" />
      <div class="search">
        <button class="button is-primary" type="submit">Search</button>
      </div>
    </form>
  </div>
  <div>
    {% for data in data_list %}
      {{ data.oembed.html }}
    {% else %}
      <p>Data not found yet.</p>
    {% endfor %}
  </div>
  {% include 'components/pagination.html' %}
{% endblock %}
